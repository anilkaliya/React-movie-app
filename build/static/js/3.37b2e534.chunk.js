(this["webpackJsonpblog-app-react"]=this["webpackJsonpblog-app-react"]||[]).push([[3],{92:function(e,t,a){},93:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a(11),r=a.n(n),o=a(26);function i(e){return{type:"ERROR",payload:{isLoading:!1,registered:!1,isAuthenticated:!1,isError:e}}}function s(e,t){var a={email:e,password:t};return console.log(e),function(e){e({type:"BEFORE_AUTH",payload:{isLoading:!0,registered:!1,isError:"",isAuthenticated:!1}}),r.a.post("/api/users/signup",a).then((function(t){console.log(t),e({type:"AFTER_SIGNUP",payload:{isLoading:!1,registered:!0,isAuthenticated:!1,isError:""}})})).catch((function(t){console.log(t),e(i(t))}))}}function c(e,t){var a={email:e,password:t};return console.log(e),function(e){e({type:"BEFORE_AUTH",payload:{isLoading:!0,registered:!1,isError:"",isAuthenticated:!1}}),r.a.post("/api/users/signin",a).then((function(t){Object(o.d)(t.data.token),Object(o.c)(t.data.expiresAt),Object(o.e)(t.data.user_id),Object(o.a)(),e({type:"AFTER_LOGIN",payload:{isLoading:!1,isAuthenticated:!0,registered:!1,isError:""}})})).catch((function(t){console.log(t),e(i(t))}))}}},94:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(0),o=a.n(r),i=a(91),s=a(81),c=a(84),l=a(85),u=a(86),d=a(87),p=a(88),m=a(89),g=a(90),E=(a(92),a(14));var f=a(93),h=a(12),b={onLogin:f.a};t.default=Object(h.b)((function(e){return{userData:e.userData}}),b)((function(e){var t=Object(E.f)(),a=Object(r.useState)(""),f=Object(n.a)(a,2),h=f[0],b=f[1],y=Object(r.useState)(""),O=Object(n.a)(y,2),w=O[0],j=O[1],v=Object(r.useState)(""),A=Object(n.a)(v,2),L=A[0],R=A[1],S=Object(r.useState)(""),_=Object(n.a)(S,2),D=_[0],F=_[1],N=function(){return h||R("Email is Required"),w.length<6&&F("Password should be of length six characters atleast"),!L&&!D};return o.a.createElement(s.a,{body:!0,outline:!0,color:"primary"},function(){if(e.isLoading)return o.a.createElement(i.a,{className:"loader",style:{width:"8rem",height:"8rem"},type:"grow"})}(),void(e.userData.isAuthenticated&&(localStorage.setItem("user",h),t.push("/"))),o.a.createElement("h5",null,o.a.createElement("strong",null,"Login to Blog App")),o.a.createElement(c.a,{onSubmit:function(t){t.preventDefault(),N()&&(e.onLogin(h,w),b(""),j(""))}},o.a.createElement(l.a,{row:!0},o.a.createElement(u.a,{for:"Email",sm:2},"Email"),o.a.createElement(d.a,{sm:7},o.a.createElement(p.a,{type:"email",name:"email",value:h,id:"Email",placeholder:"Enter Email",onChange:function(e){b(e.target.value)}}),o.a.createElement(m.a,null,L))),o.a.createElement(l.a,{row:!0},o.a.createElement(u.a,{for:"password",sm:2},"Password"),o.a.createElement(d.a,{sm:7},o.a.createElement(p.a,{type:"password",name:"password",value:w,id:"password",placeholder:"Enter Password",onChange:function(e){j(e.target.value)}}),o.a.createElement(m.a,null,D))),o.a.createElement(g.a,{className:"login",color:"secondary",type:"submit"},"Login")))}))}}]);
//# sourceMappingURL=3.37b2e534.chunk.js.map